"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sendTransactions = void 0;
const isSmartAccountClient_js_1 = require("../../client/isSmartAccountClient.js");
const account_js_1 = require("../../errors/account.js");
const client_js_1 = require("../../errors/client.js");
const buildUserOperationFromTxs_js_1 = require("./buildUserOperationFromTxs.js");
const sendUserOperation_js_1 = require("./sendUserOperation.js");
const waitForUserOperationTransacation_js_1 = require("./waitForUserOperationTransacation.js");
const sendTransactions = async (client, args) => {
    const { requests, overrides, account = client.account } = args;
    if (!account) {
        throw new account_js_1.AccountNotFoundError();
    }
    if (!(0, isSmartAccountClient_js_1.isBaseSmartAccountClient)(client)) {
        throw new client_js_1.IncompatibleClientError("BaseSmartAccountClient", "sendTransactions");
    }
    const { batch, overrides: _overrides } = await (0, buildUserOperationFromTxs_js_1.buildUserOperationFromTxs)(client, {
        requests,
        overrides,
        account,
    });
    const { hash } = await (0, sendUserOperation_js_1.sendUserOperation)(client, {
        uo: batch,
        overrides: _overrides,
        account,
    });
    return (0, waitForUserOperationTransacation_js_1.waitForUserOperationTransaction)(client, { hash });
};
exports.sendTransactions = sendTransactions;
//# sourceMappingURL=sendTransactions.js.map