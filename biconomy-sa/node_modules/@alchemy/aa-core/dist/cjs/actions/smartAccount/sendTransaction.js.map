{"version":3,"file":"sendTransaction.js","sourceRoot":"","sources":["../../../../src/actions/smartAccount/sendTransaction.ts"],"names":[],"mappings":";;;AAQA,kFAAgF;AAChF,wDAA+D;AAC/D,sDAAiE;AACjE,gEAA6E;AAC7E,+EAAyE;AACzE,0EAAqE;AACrE,+FAAwF;AAEjF,MAAM,eAAe,GASR,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE;IACzC,MAAM,EAAE,OAAO,GAAG,MAAM,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;IAC1C,IAAI,CAAC,OAAO,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE,CAAC;QAC5C,MAAM,IAAI,iCAAoB,EAAE,CAAC;IACnC,CAAC;IAED,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;QACb,MAAM,IAAI,+CAA8B,EAAE,CAAC;IAC7C,CAAC;IAED,IAAI,CAAC,IAAA,kDAAwB,EAAC,MAAM,CAAC,EAAE,CAAC;QACtC,MAAM,IAAI,mCAAuB,CAC/B,wBAAwB,EACxB,iBAAiB,CAClB,CAAC;IACJ,CAAC;IAED,MAAM,QAAQ,GAAG,MAAM,IAAA,sDAAwB,EAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAC9D,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,yCAAkB,EAAC,MAAM,EAAE;QAChD,OAAO,EAAE,OAA+B;QACxC,QAAQ;KACT,CAAC,CAAC;IAEH,OAAO,IAAA,qEAA+B,EAAC,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;AAC3D,CAAC,CAAC;AAjCW,QAAA,eAAe,mBAiC1B","sourcesContent":["import type {\n  Chain,\n  Client,\n  Hex,\n  SendTransactionParameters,\n  Transport,\n} from \"viem\";\nimport type { SmartContractAccount } from \"../../account/smartContractAccount.js\";\nimport { isBaseSmartAccountClient } from \"../../client/isSmartAccountClient.js\";\nimport { AccountNotFoundError } from \"../../errors/account.js\";\nimport { IncompatibleClientError } from \"../../errors/client.js\";\nimport { TransactionMissingToParamError } from \"../../errors/transaction.js\";\nimport { buildUserOperationFromTx } from \"./buildUserOperationFromTx.js\";\nimport { _sendUserOperation } from \"./internal/sendUserOperation.js\";\nimport { waitForUserOperationTransaction } from \"./waitForUserOperationTransacation.js\";\n\nexport const sendTransaction: <\n  TChain extends Chain | undefined = Chain | undefined,\n  TAccount extends SmartContractAccount | undefined =\n    | SmartContractAccount\n    | undefined,\n  TChainOverride extends Chain | undefined = Chain | undefined\n>(\n  client: Client<Transport, TChain, TAccount>,\n  args: SendTransactionParameters<TChain, TAccount, TChainOverride>\n) => Promise<Hex> = async (client, args) => {\n  const { account = client.account } = args;\n  if (!account || typeof account === \"string\") {\n    throw new AccountNotFoundError();\n  }\n\n  if (!args.to) {\n    throw new TransactionMissingToParamError();\n  }\n\n  if (!isBaseSmartAccountClient(client)) {\n    throw new IncompatibleClientError(\n      \"BaseSmartAccountClient\",\n      \"sendTransaction\"\n    );\n  }\n\n  const uoStruct = await buildUserOperationFromTx(client, args);\n  const { hash } = await _sendUserOperation(client, {\n    account: account as SmartContractAccount,\n    uoStruct,\n  });\n\n  return waitForUserOperationTransaction(client, { hash });\n};\n"]}