"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createSmartAccountClientFromExisting = exports.createSmartAccountClient = void 0;
const viem_1 = require("viem");
const actions_js_1 = require("../middleware/actions.js");
const bundlerClient_js_1 = require("./bundlerClient.js");
const smartAccountClient_js_1 = require("./decorators/smartAccountClient.js");
const schema_js_1 = require("./schema.js");
function createSmartAccountClient(config) {
    const { key = "account", name = "account provider", transport, ...params } = config;
    const client = (0, bundlerClient_js_1.createBundlerClient)({
        ...params,
        key,
        name,
        type: "SmartAccountClient",
        transport,
    });
    return client
        .extend(() => ({
        ...schema_js_1.SmartAccountClientOptsSchema.parse(config.opts ?? {}),
    }))
        .extend((0, actions_js_1.middlewareActions)(config))
        .extend(smartAccountClient_js_1.smartAccountClientActions);
}
exports.createSmartAccountClient = createSmartAccountClient;
function createSmartAccountClientFromExisting(config) {
    return createSmartAccountClient({
        ...config,
        chain: config.client.chain,
        transport: (0, viem_1.custom)(config.client),
    });
}
exports.createSmartAccountClientFromExisting = createSmartAccountClientFromExisting;
//# sourceMappingURL=smartAccountClient.js.map